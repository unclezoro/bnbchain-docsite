"use strict";(self.webpackChunkbeta_BNB_Docs=self.webpackChunkbeta_BNB_Docs||[]).push([[1373],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(67294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=n.createContext({}),h=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=h(e.components);return n.createElement(l.Provider,{value:t},e.children)},c="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),c=h(a),u=o,m=c["".concat(l,".").concat(u)]||c[u]||p[u]||r;return a?n.createElement(m,i(i({ref:t},d),{},{components:a})):n.createElement(m,i({ref:t},d))}));function m(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=a.length,i=new Array(r);i[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[c]="string"==typeof e?e:o,i[1]=s;for(var h=2;h<r;h++)i[h]=a[h];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},37882:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>h});var n=a(87462),o=(a(67294),a(3905));const r={sidebar_label:"BSC Validator FAQs",hide_table_of_contents:!1,sidebar_position:2},i="BNB Smart Chain Validator FAQs",s={unversionedId:"BSC-FAQs-validator",id:"BSC-FAQs-validator",title:"BNB Smart Chain Validator FAQs",description:"What is the role of BNB Smart Chain Validators?",source:"@site/docs/BSC-FAQs-validator.md",sourceDirName:".",slug:"/BSC-FAQs-validator",permalink:"/docs/BSC-FAQs-validator",draft:!1,editUrl:"https://github.com/bnb-chain/bnb-chain.github.io/blob/master/docs/BSC-FAQs-validator.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"BSC Validator FAQs",hide_table_of_contents:!1,sidebar_position:2},sidebar:"bscSideBar",previous:{title:"BSC Tokens FAQs",permalink:"/docs/BSC-FAQs-tokens"},next:{title:"BSC Delegator FAQs",permalink:"/docs/BSC-FAQs-delegator"}},l={},h=[{value:"What is the role of BNB Smart Chain Validators?",id:"what-is-the-role-of-bnb-smart-chain-validators",level:3},{value:"What are the incentives to run a validator node?",id:"what-are-the-incentives-to-run-a-validator-node",level:3},{value:"When are rewards paid out?",id:"when-are-rewards-paid-out",level:3},{value:"What&#39;s the potential loss for validators?",id:"whats-the-potential-loss-for-validators",level:3},{value:"What is the process of getting selected as a validator node on BSC?",id:"what-is-the-process-of-getting-selected-as-a-validator-node-on-bsc",level:3},{value:"How is the bad or malicious behavior of the validator nodes controlled in the BSC?",id:"how-is-the-bad-or-malicious-behavior-of-the-validator-nodes-controlled-in-the-bsc",level:3},{value:"What is &#39;self-delegation&#39;? How can I increase my &#39;self-delegation&#39;?",id:"what-is-self-delegation-how-can-i-increase-my-self-delegation",level:3},{value:"What to do if one can\u2019t run prune-state command In the event when running the geth snapshot <code>prune-state --datadir /chaindata</code> on geth 1.1.5 return the following error",id:"what-to-do-if-one-cant-run-prune-state-command-in-the-event-when-running-the-geth-snapshot-prune-state---datadir-chaindata-on-geth-115-return-the-following-error",level:3},{value:"What to do if Sync is slow on running the following command",id:"what-to-do-if-sync-is-slow-on-running-the-following-command",level:3},{value:"How to start the geth node through snapshot to get node synced?",id:"how-to-start-the-geth-node-through-snapshot-to-get-node-synced",level:3},{value:"Why is the tx from my dapp not visible on the bscscan even though its hash is generated?",id:"why-is-the-tx-from-my-dapp-not-visible-on-the-bscscan-even-though-its-hash-is-generated",level:3},{value:"Why some of the validators do not follow the GasPrice order, i.e. low GasPrice transactions are executed ahead of high GasPrice transactions within a block?",id:"why-some-of-the-validators-do-not-follow-the-gasprice-order-ie-low-gasprice-transactions-are-executed-ahead-of-high-gasprice-transactions-within-a-block",level:3},{value:"What can be done when getting error msg: <code>Cannot start mining without etherbase</code>, with err: <code>etherbase must be explicitly specified</code> while running BSC Validator?",id:"what-can-be-done-when-getting-error-msg-cannot-start-mining-without-etherbase-with-err-etherbase-must-be-explicitly-specified-while-running-bsc-validator",level:3}],d={toc:h},c="wrapper";function p(e){let{components:t,...a}=e;return(0,o.kt)(c,(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"bnb-smart-chain-validator-faqs"},"BNB Smart Chain Validator FAQs"),(0,o.kt)("h3",{id:"what-is-the-role-of-bnb-smart-chain-validators"},"What is the role of BNB Smart Chain Validators?"),(0,o.kt)("p",null,"It powers the blockchain network by processing transactions and signing blocks."),(0,o.kt)("h3",{id:"what-are-the-incentives-to-run-a-validator-node"},"What are the incentives to run a validator node?"),(0,o.kt)("p",null,"Validators and delegators will earn rewards from transaction fees: dApp usages."),(0,o.kt)("h3",{id:"when-are-rewards-paid-out"},"When are rewards paid out?"),(0,o.kt)("p",null,"The rewards will not be sent to validator right away, instead, they will be distributed and accumulated on a contract. The reward distribution happens on BC around every day UTC 00:00."),(0,o.kt)("h3",{id:"whats-the-potential-loss-for-validators"},"What's the potential loss for validators?"),(0,o.kt)("p",null,"Validators can suffer from \u201cSlashing\u201d, a punishment for their bad behaviors, such as double sign and/or instability. Such loss will not be shared by their delegators.\nSlashing is a punitive function that is triggered by a validator \u2019s bad actions. Getting slashed is losing self delegation of a validator. Validators will be slashed for the actions below:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Going offline or unable to communicate with the network."),(0,o.kt)("li",{parentName:"ul"},"Double signing: If a validator node tries to split the network by signing two different blocks and broadcasting them, it will be removed from validator set definitely.")),(0,o.kt)("h3",{id:"what-is-the-process-of-getting-selected-as-a-validator-node-on-bsc"},"What is the process of getting selected as a validator node on BSC?"),(0,o.kt)("p",null,"On BNB Smart Chain (BSC) network, validators are responsible for securing the network by processing transactions and signing blocks. Validator nodes are incentivized in the form of transaction fees for their good behavior. Currently, there are 21 validators on the testnet and 56 validators on the mainnet. Validators are selected every 24 hours. Anyone can become a candidate for the validator. To become part of the selection process of validators, the nodes have to stake their BNB. Validators can self-delegate (self-bound) BNB to themselves and can also receive delegations from any other BNB holders. The minimum amount for self-delegation is ",(0,o.kt)("strong",{parentName:"p"},"2000BNB"),". Only the top 40 highest-stake nodes are chosen to be part of the validator set. Get more details ",(0,o.kt)("a",{parentName:"p",href:"https://docs.bnbchain.org/docs/validator/overview.html"},"here"),"."),(0,o.kt)("h3",{id:"how-is-the-bad-or-malicious-behavior-of-the-validator-nodes-controlled-in-the-bsc"},"How is the bad or malicious behavior of the validator nodes controlled in the BSC?"),(0,o.kt)("p",null,"One of the important on-chain governance implementations is the technique of \u201cslashing\u201d along with jailing. When jailed validator cannot participate in the consensus mechanism or earn rewards for set period of time. Slashing ensures that validators who act maliciously or show bad behavior are punished. Furthermore, it is designed to expose any attacker and make execution of their attempts extremely expensive. Anyone can submit BSC slash request. Even though BSC slash request requires slash evidence and transaction cost fees, huge reward is given in case the request is successful. To ensure that the delegators are not punished for the validator\u2019s bad behavior, only the self-bonded BNB of the validator are slashed. Currently, slashing is applied on any node that processes an invalid transaction, performs double-signing or is unavailable for a defined period of time."),(0,o.kt)("h3",{id:"what-is-self-delegation-how-can-i-increase-my-self-delegation"},"What is 'self-delegation'? How can I increase my 'self-delegation'?"),(0,o.kt)("p",null,"Self-delegation is delegation from a validator to themselves. This amount can be increases by sending a delegate transaction from your validator's operator address."),(0,o.kt)("h3",{id:"what-to-do-if-one-cant-run-prune-state-command-in-the-event-when-running-the-geth-snapshot-prune-state---datadir-chaindata-on-geth-115-return-the-following-error"},"What to do if one can\u2019t run prune-state command In the event when running the geth snapshot ",(0,o.kt)("inlineCode",{parentName:"h3"},"prune-state --datadir /chaindata")," on geth 1.1.5 return the following error"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"ERROR[11-02|06:02:55.001] Failed to open snapshot tree err=\"head doesn't\nmatch snapshot: have 0x5c17a8fc0164dabedd446e954b64e8a54fc7c8b4fee1bbd707c3cc3ed1e45fff, want 0x431565cee8b7f3d7bbdde1265304fa4574dc3531e511e9ffe43ae79d28e431d6\" head doesn't match snapshot: have 0x5c17a8fc0164dabedd446e954b64e8a54fc7c8b4fee1bbd707c3cc3ed1e45fff, want 0x431565cee8b7f3\n")),(0,o.kt)("p",null,"This error occurs due to data corruption. You can run geth snapshot verify-state to double confirm whether the data is correct. You can download the latest snapshot from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc-snapshots"},"https://github.com/bnb-chain/bsc-snapshots"),". By doing that, you don't have to prune-state in the future, save precious disk IO, it will help you keep up with syncing."),(0,o.kt)("h3",{id:"what-to-do-if-sync-is-slow-on-running-the-following-command"},"What to do if Sync is slow on running the following command"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"*_start order: geth --config ./config.toml --datadir /data/server/data-seed/ --cache 20000 --rpc.allow-unprotected-txs --syncmode snap  --txlookuplimit 0_*\n")),(0,o.kt)("p",null,"Try pruning the state -- stop geth, then run geth --datadir=node - prune-state. Assuming that datadir is node, change that if it's elsewhere then restart after it's done. Follow ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc/issues/502"},"https://github.com/bnb-chain/bsc/issues/502")," to get more tips about how to maintain a synced node."),(0,o.kt)("h3",{id:"how-to-start-the-geth-node-through-snapshot-to-get-node-synced"},"How to start the geth node through snapshot to get node synced?"),(0,o.kt)("p",null,"The two biggest bottlenecks are CPU and IOPS when syncing. Steps are as follows: "),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Download the latest version of geth from the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc-snapshots"},"official site")," and make it executable, optionally move it ",(0,o.kt)("inlineCode",{parentName:"p"},"/usr/local/bin/geth"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Download mainnet.zip and unzip")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Generate genesis using command below, will also create a mainnet folder for blockchain data ./geth_linux --datadir mainnet init genesis.json")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Download the latest snapshot from ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc-snapshots"},"here"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Extract the snapshot")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Move the snapshot data to mainnet folder"),(0,o.kt)("p",{parentName:"li"},"  ",(0,o.kt)("inlineCode",{parentName:"p"},"rm -rf mainnet/geth/chaindata"),"  "),(0,o.kt)("p",{parentName:"li"},"  ",(0,o.kt)("inlineCode",{parentName:"p"},"rm -rf mainnet/geth/triecache"),"  "),(0,o.kt)("p",{parentName:"li"},"  ",(0,o.kt)("inlineCode",{parentName:"p"},"mv server/data-seed/geth/chaindata mainnet/geth/chaindata"),"  "),(0,o.kt)("p",{parentName:"li"},"  ",(0,o.kt)("inlineCode",{parentName:"p"},"mv server/data-seed/geth/triecache mainnet/geth/triecache"),"  "))),(0,o.kt)("p",null,"[Optional]"," Open config.toml and delete the Node Log section, just useful for getting logs straight on the terminal or just use tail to look at the logs"),(0,o.kt)("p",null,"[Optional]",' Create a service or use screen to run the command below, so it doesn\'t stop if you are using SSH.\nRun screen then press enter, anytime you lose connection via ssh, run screen -r to get back the "screen/terminal" where geth was running Geth Command '),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"geth --config ./config.toml \u2013datadir ./mainnet --cache 100000 --rpc.allow-unprotected-txs --txlookuplimit 0 --http --maxpeers 100 \u2013ws --syncmode=full --snapshot=false ")),(0,o.kt)("h3",{id:"why-is-the-tx-from-my-dapp-not-visible-on-the-bscscan-even-though-its-hash-is-generated"},"Why is the tx from my dapp not visible on the bscscan even though its hash is generated?"),(0,o.kt)("p",null,"Due to network congestion, it is possible for the tx to appear after a delay. Another possibility is that the number of pending txs have exceeded the size of the limited tx pool of the network and hence the txs have been dropped."),(0,o.kt)("h3",{id:"why-some-of-the-validators-do-not-follow-the-gasprice-order-ie-low-gasprice-transactions-are-executed-ahead-of-high-gasprice-transactions-within-a-block"},"Why some of the validators do not follow the GasPrice order, i.e. low GasPrice transactions are executed ahead of high GasPrice transactions within a block?"),(0,o.kt)("p",null,"As GasPrice order is not part of the Parlia consensus, validators can sort the transaction with any order they want. Currently, it is the default behavior for validators to put high GasPrice transaction first. But if the validator thought it could get more rewards by arranging the transactions in different order, they could modify the code and no longer follow the default behavior. Most likely MEV related.\nThere is not much that chain dev team can help right now, except:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"raise a new proposal to put the GasPrice order as part of the consensus and to discuss with the community."),(0,o.kt)("li",{parentName:"ul"},"notify the validators, hope the MEV solution could be updated to follow the GasPrice rule.  ")),(0,o.kt)("p",null,"Here is the reference of ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/bnb-chain/bsc/issues/1947#issue-1962563416"},"Rationale")),(0,o.kt)("h3",{id:"what-can-be-done-when-getting-error-msg-cannot-start-mining-without-etherbase-with-err-etherbase-must-be-explicitly-specified-while-running-bsc-validator"},"What can be done when getting error msg: ",(0,o.kt)("inlineCode",{parentName:"h3"},"Cannot start mining without etherbase"),", with err: ",(0,o.kt)("inlineCode",{parentName:"h3"},"etherbase must be explicitly specified")," while running BSC Validator?"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'lvl=error msg="Cannot start mining without etherbase" err="etherbase must be explicitly specified"\n')),(0,o.kt)("p",null,"Add ",(0,o.kt)("inlineCode",{parentName:"p"},"--miner.etherbase")," flag in the command like this:\n",(0,o.kt)("inlineCode",{parentName:"p"},"--unlock <minerAddr> --miner.etherbase <minerAddr>")," "),(0,o.kt)("p",null,"For more details, please refer here: ",(0,o.kt)("a",{parentName:"p",href:"/docs/validator/run-val#2-start-validator-node"},"Start Validator Node command.")))}p.isMDXComponent=!0}}]);